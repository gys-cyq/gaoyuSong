<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	    <meta name="viewport" content="width=device-width,initial-scale=1.0">
	    <meta name="apple-mobile-web-app-status-bar-style" content="black"> 
	  	<meta name="apple-mobile-web-app-capable" content="yes">
	  	<meta name="format-detection" content="telephone=no">
		<title>南通科技局</title>
		<link rel="stylesheet" href="../../static/css/font.css" />
		<link rel="stylesheet" href="../../lib/layui/css/layui.css" />
		<link rel="stylesheet" href="../../css/style.css"  />
		<script type="text/javascript" src="../../js/jquery-3.2.1.min.js"></script>
		<script type="text/javascript" src="../../js/main.js"></script>
		<SCRIPT type="text/javascript">

		</SCRIPT>
	</head>
	<body>
		<div class="layui-tab-brief">
			<div style="margin:10px;">
	            <button class="layui-btn layui-btn-small" @click="openAddLayer()" style="margin-left:15px;">
	                <i class="layui-icon">  </i> 新增
	            </button>
	        </div>
	        <fieldset class="layui-elem-field">
				<div class="layui-field-box">
					<table id="auth-table" class="layui-table" lay-filter="auth-table"></table>
				</div>
	        </fieldset>
		</div>
		<script type="text/html" id="oper-col">
			<a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="edit">修改</a>
			<a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
		</script>

		<script type="text/javascript" src="../../lib/layui/layui.js"></script>
		<script>
            layui.config({
                base: './../../module/'
            }).extend({
                treetable: 'treetable-lay/treetable'
            }).use(['table', 'form', 'element', 'treetable'], function () {
                var $ = layui.jquery;
                var table = layui.table;
                var form = layui.form;
                var element = layui.element;
                var treetable = layui.treetable;

                // 渲染表格
                var renderTable = function () {
                    layer.load(2);
                    treetable.render({
                        treeColIndex: 0,
                        treeSpid: -1,
                        treeIdName: 'authorityId',
                        treePidName: 'parentId',
                        elem: '#auth-table',
                        url: '../../json/data.json',
                        page: false,
                        cols: [[
//              {type: 'numbers'},
                            {field: 'authorityName',title: '权限名称'},
                            {field: 'menuUrl', title: '菜单路径'},
                            {field: 'authority', title: '权限标识'},
                            {field: 'orderNumber', align: 'center', title: '排序号'},
                            {
                                field: 'isMenu', align: 'center',  title: '资源类型'
                            }
                        ]],
                        done: function () {
                            layer.closeAll('loading');
                        }
                    });
                };

                renderTable();

//                $('#btn-expand').click(function () {
//                    treetable.expandAll('#table1');
//                });
//
//                $('#btn-fold').click(function () {
//                    treetable.foldAll('#table1');
//                });
//
//                $('#btn-refresh').click(function () {
//                    renderTable();
//                });

            });
		</script>
	</body>
</html>
